<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button autoHide="false" ></ion-menu-button>
            <ion-back-button routerLink="/folder/home" ></ion-back-button>
            <ion-title>Listado</ion-title>
          </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>

    <ion-header collapse="condense">
        <ion-toolbar>
            <ion-title size="large">Historico</ion-title>
        </ion-toolbar>
    </ion-header>

    <ion-list>
        <ion-list-header lines="inset">
            <ion-title>Historico</ion-title>
        </ion-list-header>

        <div    *ngIf="markilos.length > 0 else SinRegistros" 
                class="ion-card">

            <ng-container *ngFor="let markilo of markilos">
                <ion-item >
                    <ion-card >
                        <ion-card-header>
                            <ion-card-title><ion-icon name="location-outline"></ion-icon>{{ markilo.nota }}</ion-card-title>
                            <ion-card-subtitle> {{ markilo.direccion }} <br>
                                                {{ markilo.id }}</ion-card-subtitle>
                        </ion-card-header>

                        <ion-card-content>
                            <ion-grid>
                                <ion-row>
                                    <ion-col size="2">  Latitud <br>
                                                        Longitud </ion-col>
                                    <ion-col size="10"> {{ markilo.latitud }} <br>
                                                        {{ markilo.longitud }}</ion-col>
                                </ion-row>
                                <ion-row>
                                    <ion-col size="4">
                                        <div *ngIf="markilo.favorito; then thenBlock else elseBlock">
                                        </div>
                                            <ng-template #thenBlock>
                                                <ion-button
                                                    (click)="btMarkiloFavorito(markilo)"
                                                    size="small" 
                                                    fill="solid"
                                                    color="danger">Favorito
                                                </ion-button>
                                            </ng-template>

                                            <ng-template #elseBlock>
                                                <ion-button
                                                    (click)="btMarkiloFavorito(markilo)"
                                                    size="small" 
                                                    fill="outline"
                                                    color="danger">Favorito
                                                </ion-button>
                                            </ng-template>
                                    </ion-col>
                                    <ion-col size="3">
                                        <ion-button (click)="btMapaIr(markilo.latitud, markilo.altitud)" 
                                                    size="small"
                                                    fill="outline" 
                                                    color="warning">Mapa</ion-button>
                                    </ion-col>
                                    <ion-col size="3">
                                        <ion-button (click)="btModeloCatastroDetalles(markilo.irmc.modeloCatastro.rcParcela)"
                                                        size="small" 
                                                        fill="outline" 
                                                        color="secondary">Detalles</ion-button>
                                    </ion-col>
                                </ion-row>
                            </ion-grid>


                        </ion-card-content>
                    </ion-card>
                </ion-item>
            </ng-container>

            <ng-template #SinRegistros>
                <ion-item class="ion-text-center">
                    <ion-label>--- No hay registros en el Historico ---</ion-label>
                </ion-item>
            </ng-template>

        </div>
    </ion-list>
</ion-content>